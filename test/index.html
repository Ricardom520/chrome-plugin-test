<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./index.css">
  </head>
  <body>
    <div id='yybear_pop'>
      <canvas id="yylive_bear"></canvas>
    </div>
  </body>
  <script>
    var gradientYellow = [
        {
          pro: 0,
          color: '#FFE652'
        },
        {
          pro: 1,
          color: '#FCD21C'
        }
      ]
    // canvas画布
    var canvas = document.getElementById('yylive_bear')
    var ctx = canvas.getContext('2d')

    // 画脸
    bearFace()
    function bearFace() {
      ctx.save()
      ctx.beginPath()
      ctx.moveTo(20, 115)
      ctx.bezierCurveTo(35, 140, 115, 140, 130, 115)
      ctx.bezierCurveTo(130, 115, 155, 80, 90, 45)
      ctx.bezierCurveTo(90, 45, 95, 28, 70, 45)
      ctx.bezierCurveTo(70, 45, 0, 75, 20, 115)
      fillGradientColor(ctx, 20, 115, 135, 135, gradientYellow)
      ctx.closePath()
      ctx.restore()
    }

    // 左耳
    leftEye()
    function leftEye() {
      ctx.save()
      ctx.beginPath()
      ctx.moveTo(62, 50)
      ctx.bezierCurveTo(62, 50, 20, 20, 25, 78)
      fillGradientColor(ctx, 30, 75, 50, 50, gradientYellow)
    }

    
    // 填充过渡颜色
    function fillGradientColor(context, x, y, r1, r2, options) {
      var gradient = context.createLinearGradient(x, y, r1, r2)
      for (var i = 0; i < options.length; i++) {
        gradient.addColorStop(options[i].pro, options[i].color)
      }

      context.fillStyle = gradient
      context.fill()
    }
    // 一个圆
    // ctx.beginPath()
    // ctx.arc(100, 75, 50, 0, 2 * Math.PI)
    // ctx.stroke()
    // fillOval(ctx, 100, 75, 50, 35, '#FFE652')
    // bezierEllipse2(ctx, 100, 75, 50, 35)
    // fillGradientOval(ctx, 100, 75, 50, 35, [
    //   {
    //     pro: 0,
    //     color: '#FFE652'
    //   },
    //   {
    //     pro: 1,
    //     color: '#FCD21C'
    //   }
    // ])

    // 一个圆
    // ctx.beginPath()
    // ctx.arc(110, 65, 30, 0, 2 * Math.PI)
    // ctx.stroke()
    // fillOval(ctx, 110, 65, 30, 20, '#85491E')

    function fillOval(context, x, y, a, b, fillColor) {
      context.save()
      var r = (a > b) ? a : b
      var ratioX = a / r
      var ratioY = b / r
      
      context.scale(ratioX, ratioY)
      context.beginPath()
      context.arc(x / ratioX, y / ratioY, r, 0, 2 * Math.PI, false)
      context.fillStyle = fillColor
      context.fill()
      context.closePath()
      context.restore()
    }

    function fillGradientOval(context, x, y, a, b, options) {
      context.save()
      var r = (a > b) ? a : b
      var ratioX = a / r
      var ratioY = b / r

      context.scale(ratioX, ratioY)
      context.beginPath()
      context.arc(x / ratioX, y / ratioY, r, 1 * Math.PI, 0 * Math.PI, false)

      var gradient = context.createLinearGradient(x, y, x + r, y + r)

      for (let i = 0; i < options.length; i++) {
        gradient.addColorStop(options[i].pro, options[i].color)
      }

      context.fillStyle = gradient
      context.fill()
      context.closePath()
      context.restore()
    }

    function bezierEllipse2(context, x, y, a, b) {
      // var k = .5522848
      // var ox = a * k // 水平控制点偏移量
      // var oy = b * k // 垂直控制点偏移量
      // // 从椭圆的左端点开始顺时针绘制四条三次贝塞尔曲线
      // context.moveTo(x - a, y)
      // context.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b)
      // context.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y)
      // context.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b)
      // context.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y)
      // context.closePath()
      // context.stroke()

      // context.beginPath()
      context.moveTo(20, 115)
      context.bezierCurveTo(30, 130, 115, 130, 125, 115)

      // context.moveTo(52,37);   //确定起始点
      // context.quadraticCurveTo( 45, 175, 172, 157 );   //绘制第一条曲线
      // context.bezierCurveTo( 298, 140, 337, 201, 312, 236 );  //绘制第二条曲线
      // context.closePath()
      context.stroke()
    }
  </script>

  <script>
    /**
     * stroke 描边
     * fill 填充
     * fillStyle 填充颜色
     * save 保存默认状态
     * restore 恢复默认状态
     * */
  </script>
</html>